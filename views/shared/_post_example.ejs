<% var user_examples = data.user_examples; %>

<div class='user-examples' id="postExample">
  <h3>Community examples</h3>
  <div class="example-content">
    <% if(user_examples.length === 0) { %>
      <div class="example--placeholder">Looks like there are no examples yet.</div>
    <% } %>
    <% for(var i=0; i < user_examples.length; i++) { %>
      <% var exampleUser = user_examples[i].user; %>
      <% var exampleTarget = null; %>
      <%- include _example.ejs %>
    <% } %>
  </div>
  <% if(user) { %>
    <div class="example--form">
      <div class="example--form-body">
        <form method="post" action='<%= examplePostAction %>'>
          <fieldset class="example--form-text">
            <label for="text">Post a new example</label>
            <textarea name='text' rows="4" id="postExampleText">
## New example
Use markdown to format your example

R code blocks are runnable and interactive:
```r
a <- 2
print(a)
```

You can also display normal code blocks
```
var a = b
```
            </textarea>
          </fieldset>
          <fieldset>
            <button class="btn btn-primary pull-right" type="submit">Submit your example</button>
          </fieldset>
        </form>
      </div>
    </div>
  <% } else { %>
      <p>You are not logged in, please <a href="/login?rdr=<%= encodeURIComponent(path)%>">Sign in</a> or <a href="/register?rdr=<%= encodeURIComponent(path)%>">Create an account</a> to post examples.</p>
  <% } %>
</div>
